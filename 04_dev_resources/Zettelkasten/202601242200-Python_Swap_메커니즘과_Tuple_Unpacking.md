## [ID: 202601242200] Python Swap 메커니즘과 Tuple Unpacking

**태그:** #python #syntax #tuple-unpacking #in-place #idiomatic

### 본문

파이썬에서 두 변수의 값을 교체할 때 사용하는 `a, b = b, a` 구문은 내부적으로 **튜플 언패킹(Tuple Unpacking)** 메커니즘을 따름.

1. **동작 원리 (Step-by-Step):**
    
    - **우항(RHS) 평가:** `b, a`가 먼저 평가되어 메모리에 임시 튜플 `(b, a)`가 생성됨.
        
    - **좌항(LHS) 대입:** 생성된 튜플의 요소들이 순서대로 좌항의 변수 `a`와 `b`에 각각 할당됨.
        
    - 결과적으로 `a`에는 기존 `b`의 값이, `b`에는 기존 `a`의 값이 담김.
        
2. **장점:**
    
    - **간결함:** `tmp = a; a = b; b = tmp`와 같은 명시적 임시 변수 선언이 필요 없음.
        
    - **원자성(Atomicity):** 우항이 먼저 완전히 평가된 후 대입이 일어나므로, 대입 도중에 값이 꼬이는 현상을 방지함.
        
    - **가독성:** '두 값을 바꾼다'는 의도가 코드 한 줄에 명확히 드러남.
        
3. **In-place 알고리즘에서의 의미:**
    
    - `s[i], s[j] = s[j], s[i]` 구문을 통해 추가적인 리스트 할당 없이 **상수 시간($O(1)$)의 추가 메모리**만으로 요소 교체가 가능해짐.
        

> **참고:** 파이썬 바이트코드 수준에서는 `ROT_TWO` 또는 `ROT_THREE` 같은 전용 명령어를 사용하여 튜플 생성 과정을 최적화하기도 함.

### 연결 (Links)

- **상위 개념:** [[202601242155-Two_Pointers_유형별_동작_원리_비교]]
    
- **관련 개념:** [[202601220740-파이썬의_관용적_빈_시퀀스_검사]]