### 오늘 배운 것
- 브라우저에서 위임받은 gmail account의 gmail에 있는 pdf를 gmail api로 취득하기 위해서는 domain wide delegation이 필요하다는 것을 알았다.
	- 하지만 DWD에서는 특정 gmail account가 아닌, 회사 전체의 인터넷 주소인 도메인에 대하여 권한을 위임하는 것이었다.
		- gmail read only를 특정 주체에 위임한다고 하면, 회사 전체의 gmail을 읽을 수 있다는 뜻이다.
	- 그런 커다란 권한을 service account에게 주는 것은 너무 위험하므로 관뒀다.
- 회사의 운용방식을 생각하면, 단순히 scraping으로 대응하는 것이 맞다고 생각했다.
- chrome extension에서 service worker(background.js 또는 ts)의 존재의의를 이해했다.
	- service worker는 크롬 tab이 업데이트되거나 닫히거나 하는 이벤트를 리스닝한다.
		- popup에서는 크롬관련이 아닌, popup창에 대한 이벤트를 리스닝한다.
	- popup은 창이 닫히면 동작이 종료되지만 service worker는 계속 움직이므로 상태를 관리할 수 있다.
		- 로그인이 유지되고 있나? 이 기능은 사용할 수 있나? 등.
	- content script들 사이에서 커뮤니케이션을 관리한다.
		- 탭A에서는 이것을 하고, 탭 B에서는 저것을 하고...

### 오늘 해결한 문제
- 회사의 시스템 운용방식을 고려하여 chrome extension에서 pdf취득하는 방법을 scraping으로 전환했다.

### 내일 개선할 점
- gmail api를 사용하지 않는 방법으로도 pdf를 취득가능하다. gmail api에서 벗어나는, 메타적인 사고방식을, 다른 문제를 접했을 때 하도록 하자. 하나의 방법이나 이미 정해진 방식에 사로잡히지 말고 더 크고 다양하게 생각하자.

### 생각
- 구현 가능한 문제라도 사내 규칙, 운용에 따라서는 해서는 안될 것이 있다고 생각했다.


#일일노트