### 오늘 배운 것
- 재귀함수는 base case가 없다면 무한히 실행된다. [[recursive algorithm 설명]]
- CORS가 발생하는 곳은 브라우저이다. 서버에서 request하는 것은 CORS Error가 발생하지 않는다.
- 노트 필기와 디지털 기기에 기록하는 것, 둘다 하는 것이 이롭다.
	- 노트 필기는, 암기를 위해서가 아니라 내 언어로 알게 된 것을 정리하거나 그림을 그리고, 이를 디지털 기기에 박제하는 것으로 내 실력을 올릴 수 있다.
- 노트나 디지털 기기를 사용해서 배운것을 정리하는 것은 주가 아니다. 한줄이라도 더 개발하는게 나에게 맞다.
	- 정리는 필요하지만, 결과물로 보이도록 한다.
### 오늘 해결한 문제
- google apps script에서 외부서버를 호출하거나, 외부서버에서 google apps script를 호출하는 구조를 완성했다.
	- spread sheet - google apps script(container binding script) - google apps script(web app) - client or server
		- client에서 webapp에 json을 보내면 preflight가 발생하는데 CORS문제가 발생한다.
			- 서버에서 호출하면 CORS에러가 발생하지 않는다.
			- json이 아닌, text/plain방식으로 보내는, 우회방식을 사용해서 피할 수 있다.
- server에서 token개신할 때 race condition(stale error)가 발생한다. fastapi에서 비관적 락을 사용해서 해결하긴 했으나 속도를 고려한다면, 정합성이 보장안되는 경우는 수정전에도 발생하지 않았으니까 stale error를 catch해서 401로 보내는 방식을 취해야겠다.

### 내일 개선할 점
- token갱신할 때 발생하는 race condition에 대한 에러처리를 속도를 높이기 위해 비관적 lock에서 낙관적 lock으로 바꾸도록 한다.
- 먹는 밀가루량을 줄이니 졸리다. 점심시간에 20분 다시 달려야겠다.

### 생각
- 배운거나 사용한 것을 정리할 때(타이핑하거나 필기할 때) 쓰여있는 내용, 들은 내용을 그대로 적는 것이 아니라 내 언어로, 설명가능하도록 하면 이해력도 올라가니까 앞으로는 이렇게 해야겠다.

### 질문 (궁금한 것)
- 컴퓨터 이외의 분야의 책을 읽을 때 공통된 패턴은 어떻게 뽑아내지?

#일일노트