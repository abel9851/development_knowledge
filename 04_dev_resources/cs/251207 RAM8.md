
```hdl

// This file is part of www.nand2tetris.org
// and the book "The Elements of Computing Systems"
// by Nisan and Schocken, MIT Press.
// File name: projects/3/a/RAM8.hdl
/**
 * Memory of eight 16-bit registers.
 * If load is asserted, the value of the register selected by
 * address is set to in; Otherwise, the value does not change.
 * The value of the selected register is emitted by out.
 */
CHIP RAM8 {
    IN in[16], load, address[3];
    OUT out[16];

    PARTS:
    // 8입력 16비트 디멀티플렉서가 있으면 될 것 같은데 이게 없는 이유는?
    // 디멀티플렉서로 8개의 레지스터의 각각의 로드 입력이 되도록 한다.
    // 즉 디멀티플렉서에서 address를 받아서 로드를 true할 레지스터를 고른다.
    // 모든 레지스터가 입력값을 전부다 받지만 디멀티플렉서로 load가 true가 된
    // 레지스터는 하나뿐이기 떄문에 선택된 레지스터에만 입력값이 보존된다.
    // 그 후, 선택된 레지스터의 출력을 선택해서 출력하면 되니까
    // 8입력 16비트 멀티플렉서에서 address를 선택비트로 사용해서 출력하면 된다.
    // 제일 중요한 것은 디멀티플렉서의 출력값이 각각의 레지스터에 입력할 load값이 되는거다.
    // 이를 통해 입력값을 특정 레지스터에 보존할 수 있다!
    // 입력을 하도록 선택한 레지스터는, 다음 주기에 출력할 레지스터로 선택되는 사양인데
    // 이전주기에서 입력을 하도록 선택한 레지스터와 다음 주기에 출력을 할 레지스터를 다르게 선택하는 
    // 것도 필요한 경우가 있나?
    // 현재는 선택한 레지스터는 
    // 입력이 반영되는 것은 다음 주기다.
    // 출력할 레지스터를 선택해서 그 레지스터의 출력값이 출력되는 것도 다음 주기인가?
    // 구조상 그건 아닌듯 한데? 테스트해보자. 
    // 오늘 밤에 내용 정리할 것
    DMux8Way(
    in=load,
    sel=address[0..2],
    a=aReLoadBit,
    b=bReLoadBit,
    c=cReLoadBit,
    d=dReLoadBit,
    e=eReLoadBit,
    f=fReLoadBit,
    g=gReLoadBit,
    h=hReLoadBit);

    Register(in=in[0..15],load=aReLoadBit,out=aReOut);
    Register(in=in[0..15],load=bReLoadBit,out=bReOut);
    Register(in=in[0..15],load=cReLoadBit,out=cReOut);
    Register(in=in[0..15],load=dReLoadBit,out=dReOut);
    Register(in=in[0..15],load=eReLoadBit,out=eReOut);
    Register(in=in[0..15],load=fReLoadBit,out=fReOut);
    Register(in=in[0..15],load=gReLoadBit,out=gReOut);
    Register(in=in[0..15],load=hReLoadBit,out=hReOut);

    Mux8Way16(
            a=aReOut,
            b=bReOut,
            c=cReOut,
            d=dReOut,
            e=eReOut,
            f=fReOut,
            g=gReOut,
            h=hReOut,
            sel=address[0..2],
            out=out);
}
```